popoversFeature={initialContent:'<div class="pas"><i class="fas fa-spinner fa-pulse"></i> Loading...</div>',defaultPopoverOptions:{arrow:true,delay:[700,50],duration:[200,200],performance:true},initOnServerDetails:function(){this.initPlayerPopover(document.querySelectorAll('.players-list a[data-popover-url]'));},initOnServersList:function(){this.initPlayerPopover(document.querySelectorAll('.servers-list a[data-popover-url]'));},initOnUserProfile:function(){this.initPlayerPopover(document.querySelectorAll('.rwr-accounts-list a[data-popover-url]'));},initOnMyFriends:function(){this.initPlayerPopover(document.querySelectorAll('.friends-list a[data-popover-url]'));},initPlayerPopover:function(elements){return this.initPopover(elements,{theme:'rwrs-player',});},initPopover:function(elements,options){var self=this;var optionsToUse={};Object.assign(optionsToUse,self.defaultPopoverOptions,options);optionsToUse.content=self.initialContent;optionsToUse.onShow=function(tip){fetch(tip.reference.dataset.popoverUrl,{method:'GET'}).then(function(response){if(response.ok){return response.text();}else{return Promise.reject(response);}}).then(function(response){if(tip.state.isVisible){tip.setContent(response);}}).catch(function(error){tip.setContent('Error fetching popover content.');});};optionsToUse.onHidden=function(tip){tip.setContent(self.initialContent);};return tippy(elements,optionsToUse);}};