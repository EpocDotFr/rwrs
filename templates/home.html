{% extends 'layout.html' %}

{% block content %}
    <div class="home grid mtm mbm txtcenter">
        <div class="prl">
            <h2><i class="fa fa-user"></i> Searching for a player?</h2>
            <div>
                <form method="get" action="{{ url_for('player_stats') }}">
                    <input type="text" name="username" placeholder="Type a player name" required> <button type="submit"><i class="fa fa-search"></i> Find</button>
                </form>
            </div>
        </div>
        <div class="pll">
            <h2><i class="fa fa-server"></i> Looking for a server?</h2>
            <div><a href="{{ url_for('servers_list') }}" class="btn"><i class="fa fa-chevron-right"></i> Go to the servers list</a></div>
        </div>
    </div>

    <div id="online-players-chart" class="chart"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
    <script src="https://unpkg.com/frappe-charts@0.0.3/dist/frappe-charts.min.iife.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        friendsFeature.all_players = {{ all_players|tojson }};
        friendsFeature.initOnHome();

        playersChartFeature.data = {
            labels: [
                1967, 1968, 1969, 1970, 1971, 1972, 1973, 1974, 1975, 1976,
                1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986,
                1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996,
                1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
                2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016
            ],
            datasets: [
                {
                    'values': [132.9, 150.0, 149.4, 148.0,  94.4,  97.6,  54.1,  49.2,  22.5, 18.4,
                        39.3, 131.0, 220.1, 218.9, 198.9, 162.4,  91.0,  60.5,  20.6,  14.8,
                        33.9, 123.0, 211.1, 191.8, 203.3, 133.0,  76.1,  44.9,  25.1,  11.6,
                        28.9,  88.3, 136.3, 173.9, 170.4, 163.6,  99.3,  65.3,  45.8,  24.7,
                        12.6,   4.2,   4.8,  24.9,  80.8,  84.5,  94.0, 113.3,  69.8,  39.8]
                }
            ]
        };
        playersChartFeature.initOnHome();
    </script>
{% endblock %}